"undefined"==typeof window.console&&(window.console={}),"undefined"==typeof window.console.emulated&&("function"==typeof window.console.log?window.console.hasLog=!0:("undefined"==typeof window.console.log&&(window.console.log=function(){}),window.console.hasLog=!1),"function"==typeof window.console.debug?window.console.hasDebug=!0:("undefined"==typeof window.console.debug&&(window.console.debug=window.console.hasLog?function(){for(var e=["console.debug:"],o=0;o<arguments.length;o++)e.push(arguments[o]);window.console.log.apply(window.console,e)}:function(){}),window.console.hasDebug=!1),"function"==typeof window.console.warn?window.console.hasWarn=!0:("undefined"==typeof window.console.warn&&(window.console.warn=window.console.hasLog?function(){for(var e=["console.warn:"],o=0;o<arguments.length;o++)e.push(arguments[o]);window.console.log.apply(window.console,e)}:function(){}),window.console.hasWarn=!1),"function"==typeof window.console.error?window.console.hasError=!0:("undefined"==typeof window.console.error&&(window.console.error=function(){var e="An error has occured.";if(window.console.hasLog){for(var o=["console.error:"],n=0;n<arguments.length;n++)o.push(arguments[n]);window.console.log.apply(window.console,o),e="An error has occured. More information is available in your browser's javascript console."}for(var n=0;n<arguments.length&&"string"==typeof arguments[n];++n)e+="\n"+arguments[n];throw"undefined"!=typeof Error?new Error(e):e}),window.console.hasError=!1),"function"==typeof window.console.trace?window.console.hasTrace=!0:("undefined"==typeof window.console.trace&&(window.console.trace=function(){window.console.error("console.trace does not exist")}),window.console.hasTrace=!1),window.console.emulated=!0),function(e){e.History?window.console.warn("$.History has already been defined..."):(e.History={options:{debug:!1},state:"",$window:null,$iframe:null,handlers:{generic:[],specific:{}},extractHash:function(e){var o=e.replace(/^[^#]*#/,"").replace(/^#+|#+$/,"");return o},getState:function(){var o=e.History;return o.state},setState:function(o){var n=e.History;return o=n.extractHash(o),n.state=o,n.state},getHash:function(){var o=e.History,n=o.extractHash(window.location.hash||location.hash);return n},setHash:function(o){var n=e.History;return o=n.extractHash(o),"undefined"!=typeof window.location.hash?window.location.hash!==o&&(window.location.hash=o):location.hash!==o&&(location.hash=o),o},go:function(o){var n=e.History;o=n.extractHash(o);var t=n.getHash(),i=n.getState();return o!==t?n.setHash(o):(o!==i&&n.setState(o),n.trigger()),!0},hashchange:function(){var o=e.History,n=o.getHash();return o.go(n),!0},bind:function(o,n){var t=e.History;return n?("undefined"==typeof t.handlers.specific[o]&&(t.handlers.specific[o]=[]),t.handlers.specific[o].push(n)):(n=o,t.handlers.generic.push(n)),!0},trigger:function(o){var n=e.History;"undefined"==typeof o&&(o=n.getState());var t,i,r,s;if("undefined"!=typeof n.handlers.specific[o])for(s=n.handlers.specific[o],t=0,i=s.length;i>t;++t)(r=s[t])(o);for(s=n.handlers.generic,t=0,i=s.length;i>t;++t)(r=s[t])(o);return!0},construct:function(){var o=e.History;return e(document).ready(function(){o.domReady()}),!0},configure:function(o){var n=e.History;return n.options=e.extend(n.options,o),!0},domReadied:!1,domReady:function(){var o=e.History;if(!o.domRedied)return o.domRedied=!0,o.$window=e(window),o.$window.bind("hashchange",this.hashchange),setTimeout(o.hashchangeLoader,200),!0},nativeSupport:function(o){o=o||e.browser;var n=o.version,t=parseInt(n,10),i=n.split(/[^0-9]/g),r=parseInt(i[0],10),s=parseInt(i[1],10),a=parseInt(i[2],10),c=!1;return o.msie&&t>=8?c=!0:o.webkit&&t>=528?c=!0:o.mozilla?r>1?c=!0:1===r&&(s>9?c=!0:9===s&&a>=2&&(c=!0)):o.opera&&(r>10?c=!0:10===r&&s>=60&&(c=!0)),c},hashchangeLoader:function(){var o=e.History,n=o.nativeSupport();if(n){var t=o.getHash();t&&o.$window.trigger("hashchange")}else{var i;if(e.browser.msie){o.$iframe=e('<iframe id="jquery-history-iframe" style="display: none;"></$iframe>').prependTo(document.body)[0],o.$iframe.contentWindow.document.open(),o.$iframe.contentWindow.document.close();var r=!1;i=function(){var e=o.getHash(),n=o.getState(),t=o.extractHash(o.$iframe.contentWindow.document.location.hash);n!==e?(r||(o.$iframe.contentWindow.document.open(),o.$iframe.contentWindow.document.close(),o.$iframe.contentWindow.document.location.hash=e),r=!1,o.$window.trigger("hashchange")):n!==t&&(r=!0,o.setHash(t))}}else i=function(){var e=o.getHash(),n=o.getState();n!==e&&o.$window.trigger("hashchange")};setInterval(i,200)}return!0}},e.History.construct())}(jQuery),function(e,o){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,t){return o(e,n,t)}):"object"==typeof exports?module.exports=o(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=o(e,e.EventEmitter,e.eventie)}(window,function(e,o,n){"use strict";function t(e,o){for(var n in o)e[n]=o[n];return e}function i(e){return"[object Array]"===u.call(e)}function r(e){var o=[];if(i(e))o=e;else if("number"==typeof e.length)for(var n=0,t=e.length;t>n;n++)o.push(e[n]);else o.push(e);return o}function s(e,o,n){if(!(this instanceof s))return new s(e,o);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=t({},this.options),"function"==typeof o?n=o:t(this.options,o),n&&this.on("always",n),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var i=this;setTimeout(function(){i.check()})}function a(e){this.img=e}function c(e){this.src=e,l[e]=this}var d=e.jQuery,h=e.console,f="undefined"!=typeof h,u=Object.prototype.toString;s.prototype=new o,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,o=this.elements.length;o>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var t=n.nodeType;if(t&&(1===t||9===t||11===t))for(var i=n.querySelectorAll("img"),r=0,s=i.length;s>r;r++){var a=i[r];this.addImage(a)}}},s.prototype.addImage=function(e){var o=new a(e);this.images.push(o)},s.prototype.check=function(){function e(e,i){return o.options.debug&&f&&h.log("confirm",e,i),o.progress(e),n++,n===t&&o.complete(),!0}var o=this,n=0,t=this.images.length;if(this.hasAnyBroken=!1,!t)return void this.complete();for(var i=0;t>i;i++){var r=this.images[i];r.on("confirm",e),r.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var o=this;setTimeout(function(){o.emit("progress",o,e),o.jqDeferred&&o.jqDeferred.notify&&o.jqDeferred.notify(o,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var o=this;setTimeout(function(){if(o.emit(e,o),o.emit("always",o),o.jqDeferred){var n=o.hasAnyBroken?"reject":"resolve";o.jqDeferred[n](o)}})},d&&(d.fn.imagesLoaded=function(e,o){var n=new s(this,e,o);return n.jqDeferred.promise(d(this))}),a.prototype=new o,a.prototype.check=function(){var e=l[this.img.src]||new c(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var o=this;e.on("confirm",function(e,n){return o.confirm(e.isLoaded,n),!0}),e.check()},a.prototype.confirm=function(e,o){this.isLoaded=e,this.emit("confirm",this,o)};var l={};return c.prototype=new o,c.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var o="on"+e.type;this[o]&&this[o](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,o){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,o)},c.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});