"undefined"==typeof window.console&&(window.console={}),"undefined"==typeof window.console.emulated&&("function"==typeof window.console.log?window.console.hasLog=!0:("undefined"==typeof window.console.log&&(window.console.log=function(){}),window.console.hasLog=!1),"function"==typeof window.console.debug?window.console.hasDebug=!0:("undefined"==typeof window.console.debug&&(window.console.debug=window.console.hasLog?function(){for(var o=["console.debug:"],n=0;n<arguments.length;n++)o.push(arguments[n]);window.console.log.apply(window.console,o)}:function(){}),window.console.hasDebug=!1),"function"==typeof window.console.warn?window.console.hasWarn=!0:("undefined"==typeof window.console.warn&&(window.console.warn=window.console.hasLog?function(){for(var o=["console.warn:"],n=0;n<arguments.length;n++)o.push(arguments[n]);window.console.log.apply(window.console,o)}:function(){}),window.console.hasWarn=!1),"function"==typeof window.console.error?window.console.hasError=!0:("undefined"==typeof window.console.error&&(window.console.error=function(){var o="An error has occured.";if(window.console.hasLog){for(var n=["console.error:"],e=0;e<arguments.length;e++)n.push(arguments[e]);window.console.log.apply(window.console,n),o="An error has occured. More information is available in your browser's javascript console."}for(var e=0;e<arguments.length&&"string"==typeof arguments[e];++e)o+="\n"+arguments[e];throw"undefined"!=typeof Error?new Error(o):o}),window.console.hasError=!1),"function"==typeof window.console.trace?window.console.hasTrace=!0:("undefined"==typeof window.console.trace&&(window.console.trace=function(){window.console.error("console.trace does not exist")}),window.console.hasTrace=!1),window.console.emulated=!0),function(o){o.History?window.console.warn("$.History has already been defined..."):(o.History={options:{debug:!1},state:"",$window:null,$iframe:null,handlers:{generic:[],specific:{}},extractHash:function(o){var n=o.replace(/^[^#]*#/,"").replace(/^#+|#+$/,"");return n},getState:function(){var n=o.History;return n.state},setState:function(n){var e=o.History;return n=e.extractHash(n),e.state=n,e.state},getHash:function(){var n=o.History,e=n.extractHash(window.location.hash||location.hash);return e},setHash:function(n){var e=o.History;return n=e.extractHash(n),"undefined"!=typeof window.location.hash?window.location.hash!==n&&(window.location.hash=n):location.hash!==n&&(location.hash=n),n},go:function(n){var e=o.History;n=e.extractHash(n);var t=e.getHash(),r=e.getState();return n!==t?e.setHash(n):(n!==r&&e.setState(n),e.trigger()),!0},hashchange:function(){var n=o.History,e=n.getHash();return n.go(e),!0},bind:function(n,e){var t=o.History;return e?("undefined"==typeof t.handlers.specific[n]&&(t.handlers.specific[n]=[]),t.handlers.specific[n].push(e)):(e=n,t.handlers.generic.push(e)),!0},trigger:function(n){var e=o.History;"undefined"==typeof n&&(n=e.getState());var t,r,i,a;if("undefined"!=typeof e.handlers.specific[n])for(a=e.handlers.specific[n],t=0,r=a.length;r>t;++t)(i=a[t])(n);for(a=e.handlers.generic,t=0,r=a.length;r>t;++t)(i=a[t])(n);return!0},construct:function(){var n=o.History;return o(document).ready(function(){n.domReady()}),!0},configure:function(n){var e=o.History;return e.options=o.extend(e.options,n),!0},domReadied:!1,domReady:function(){var n=o.History;if(!n.domRedied)return n.domRedied=!0,n.$window=o(window),n.$window.bind("hashchange",this.hashchange),setTimeout(n.hashchangeLoader,200),!0},nativeSupport:function(n){n=n||o.browser;var e=n.version,t=parseInt(e,10),r=e.split(/[^0-9]/g),i=parseInt(r[0],10),a=parseInt(r[1],10),s=parseInt(r[2],10),c=!1;return n.msie&&t>=8?c=!0:n.webkit&&t>=528?c=!0:n.mozilla?i>1?c=!0:1===i&&(a>9?c=!0:9===a&&s>=2&&(c=!0)):n.opera&&(i>10?c=!0:10===i&&a>=60&&(c=!0)),c},hashchangeLoader:function(){var n=o.History,e=n.nativeSupport();if(e){var t=n.getHash();t&&n.$window.trigger("hashchange")}else{var r;if(o.browser.msie){n.$iframe=o('<iframe id="jquery-history-iframe" style="display: none;"></$iframe>').prependTo(document.body)[0],n.$iframe.contentWindow.document.open(),n.$iframe.contentWindow.document.close();var i=!1;r=function(){var o=n.getHash(),e=n.getState(),t=n.extractHash(n.$iframe.contentWindow.document.location.hash);e!==o?(i||(n.$iframe.contentWindow.document.open(),n.$iframe.contentWindow.document.close(),n.$iframe.contentWindow.document.location.hash=o),i=!1,n.$window.trigger("hashchange")):e!==t&&(i=!0,n.setHash(t))}}else r=function(){var o=n.getHash(),e=n.getState();e!==o&&n.$window.trigger("hashchange")};setInterval(r,200)}return!0}},o.History.construct())}(jQuery);