!function(e,t,n){function a(e){g.debug&&console.log(e)}var o=null,r="",c=wpvars.pagename,s=wpvars.pageid,i=0,u={},l={content:"#content",cacheRequests:!0,cacheExpiry:1,waitForImages:!0,debug:!1},g=l,d=e("body"),p=(e("wpvars"),e(g.content));e(t).off("statechange").on("statechange",function(){var e=n.getState();a("Event.statechange: HTML5 History statechange event trigger with URL: "+e.url),r!==e.url?(a("Event.statechange: Calling the wpAjax.loadPage function with State.url as its parameter"),u.loadPage(e.url)):a("Event.statechange: User is already on the requested page to load. No request will be made.")}),u.initEvents=function(){a("initEvents: Called the init events function. About to trigger even with slug: "+c);var t=jQuery.Event("wpAjax.pageload-"+c);e(document).trigger(t)},u.configure=function(t){return a("configure: Setting options for Wpajax"),e.extend(l,t),this},u.getConfiguration=function(){return l},u.getCurrentUrl=function(){return a("getCurrentUrl: Getting the current browser address URL"),t.location.href},u.trigger=function(t){a("trigger: Calling History.pushState which will trigger a statechange"),r=u.getCurrentUrl(),c=wpvars.pagename,s=wpvars.pageid;var o=jQuery.Event("wpAjax.pageleave-"+c);e(document).trigger(o),u.getTitle(t,function(e){n.pushState({},e,t)})},u.pageLimitReached=function(){return wpvars.max==wpvars.paged},u.getCurrentPageNumber=function(){return wpvars.paged},u.getMaxPages=function(){return wpvars.max},u.loadPage=function(t){a("loadPage: No other request is taking place, we are good to go"),e("body").addClass("loading-page");var n=jQuery.Event("wpAjax.loading",{previousUrl:r,previousSlug:c,previousID:s,url:t});e(document).trigger(n),u.fadeOutContent(function(){u.doRequest(t,function(e){u.processRequest(e,t)},function(){u.fadeInContent(),a("loadPage: Called doRequest and the request failed. Throwing a failed event on document");var n=jQuery.Event("wpAjax.failed",{url:t});e(document).trigger(n)})}),a("loadPage: Loading class applied to body, loading event fired and content element faded out")},u.fadeOutContent=function(e){a("fadeOutContent: Animating content element out"),0===arguments.length&&(e=function(){}),p.animate({opacity:0},800,e)},u.fadeInContent=function(e){a("fadeInContent: Animating content element in"),0===arguments.length&&(e=function(){}),p.animate({opacity:1},800,e)},u.getTitle=function(t,n){var o="";a("getTitle: Calling wpAjax.doRequest now to get the title"),u.doRequest(t,function(t){o=e(t).filter("title").text(),a("getTitle: doRequest AJAX call successful. Title returned: "+o+" "),e.isFunction(n)&&n(o)},function(){e.isFunction(n)&&n(o)})},u.doRequest=function(t,n,r){a("doRequest: About to perform an AJAX call"),o=e.ajax({url:t,localCache:g.cacheRequests,cacheTTL:g.cacheExpiry,type:"GET",dataType:"html",requestCount:++i,beforeSend:function(){null!==o&&o.abort()},success:function(e,t,o){a("doRequest: AJAX success callback"),i===this.requestCount&&n(e,t,o)},error:function(t,n,o){a("doRequest: AJAX error callback"),e.isFunction(r)&&r(t,n,o)}})},u.processRequest=function(t,n){var o=e(t),i=o.find(g.content).html(),l=o.filter("#wpvars").html();if(a("processRequest: Processing the data returned by a successful AJAX call"),i&&i.length){e("#wpvars").remove();var p=document.createElement("script");p.id="wpvars",p.type="text/javascript",p.text=l,d.append(p);var f=jQuery.Event("wpAjax.complete",{previousUrl:r,previousSlug:c,previousID:s,content:t,url:n,slug:wpvars.pagename,ID:wpvars.pageid}),m=jQuery.Event("wpAjax.pageload-"+wpvars.pagename);a("processRequest: Content found from the AJAX request, determining what to do with it"),g.waitForImages?(a("processRequest Wait for images option is enabled, finding images"),e(i).find("img").length?(a("processRequest: We found images. Waiting for all images in the returned data to preload"),u.populateContent(i,function(n){a("processRequest: Populated the content element with content, about to preload iamges"),n.waitForImages(function(){a("processRequest: All images in AJAX loaded content have preloaded"),d.attr("class",t.match(/body class=\"(.*?)\"/)[1]),e(document).trigger(f),e(document).trigger(m)})})):u.populateContent(i,function(){a("processRequest: Requested AJAX content has been added to the content element and classes changed"),d.attr("class",t.match(/body class=\"(.*?)\"/)[1]),e(document).trigger(f),e(document).trigger(m)})):u.populateContent(i,function(){a("processRequest: Requested AJAX content has been added to the content element and classes changed"),e("body").attr("class",t.match(/body class=\"(.*?)\"/)[1]),e(document).trigger(f),e(document).trigger(m)}),u.fadeInContent()}else a("processRequest: Returned AJAX content is empty. Could be a problem server-side.")},u.populateContent=function(t,n){a("populateContent: About to populate the content element with returned HTML"),p.html(t),e.isFunction(n)&&(a("populateContent: We've added in the content, calling the callback function with the element as an argument"),n(p))},t.wpAjax=u,e(function(){setTimeout(function(){u.initEvents()},700)})}(jQuery,window,window.History),function(){jQuery.expr[":"].regex=function(e,t,n){var a=n[3].split(","),o=/^(data|css):/,r={method:a[0].match(o)?a[0].split(":")[0]:"attr",property:a.shift().replace(o,"")},c="ig",s=new RegExp(a.join("").replace(/^\s+|\s+$/g,""),c);return s.test(jQuery(e)[r.method](r.property))}}(jQuery),function(e){e.ajaxPrefilter(function(e,t,n){function a(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}if(a()&&e.localCache){var o=e.cacheTTL||5,r=e.cacheKey||e.url.replace(/jQuery.*/,"")+e.type+(e.data||"");e.isCacheValid&&!e.isCacheValid()&&localStorage.removeItem(r);var c=localStorage.getItem(r+"cachettl");c&&c<+new Date&&(localStorage.removeItem(r),localStorage.removeItem(r+"cachettl"),c="expired");var s=localStorage.getItem(r);s?(0===e.dataType.indexOf("json")&&(s=JSON.parse(s)),e.success(s),n.abort()):(e.success&&(e.realsuccess=e.success),e.success=function(t){var n=t;0===this.dataType.indexOf("json")&&(n=JSON.stringify(t));try{localStorage.setItem(r,n)}catch(a){localStorage.removeItem(r),localStorage.removeItem(r+"cachettl"),e.cacheError&&e.cacheError(a,r,n)}e.realsuccess&&e.realsuccess(t)},c&&"expired"!==c||localStorage.setItem(r+"cachettl",+new Date+36e5*o))}})}(jQuery);